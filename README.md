---

mindmap-plugin: basic

---

# goCLI

## docker
- build
    - Общая интеграция сборок тайфуна на основе докера образа.
    - image
        - Создать образ тайфуна на основе исходного кода.
          По умолчанию команда собирает python typhoon из основной
          директории env TYPHOON_PATH на базе Dockerfile.
    - project
        - Собрать образ проекта на основе исходного
          кода проекта и DockerFile. Когда вызывается в каталоге с проектом.
- push
    - Отправка докер ресурсов в удалённое хранилище
    - image
        - Отправка докер образа в удалённое хранилище
          по адресу в ENV переменной TYPHOON_DOCKERHUB
    - project
        - Отправить образ проекта в docker registry по адресу из ENV переменной
          TYPHOON_DOCKERHUB
- build-push
    - Собрать и отправить докер образ Typhoon по адресу из ENV переменной
      TYPHOON_DOCKERHUB
- run
    - Запустить Typhoon с помощью докер
    - component
        - Запустить typhoon компонент в докер контейнере
- remove
    - Очищает ресурсы docker
    - files
        - Удаляет Dockerfile из текущей директории запуска команды
- list

## generates
- product
    - Генерирует случайный продукт по формату с базовыми аттрибутами товара.
      Выводит в консоль полученный результат в формате JSON.
- task
    - Генерирует случайную задачу в формате Typhoon Task и публикует в NSQ
      компоненту в цикле с задержкой в миллисекундах.
      Цикл продолжает генерировать задачу до тех пор пока время timeout не выйдет

## git
- remove-untracked
    - Удалить все неотслеживаемые git файлы
- status
    - Посмотреть git status текущего проекта
- reset
    - Сбросить состояние локальной версии файлов на версию в удалённом репозитории
- push

## gitlab
- init
    - Создать базовые шаблоны Gitlab CI
    - templates
        - Создать в каталоге текущего проекта необходимые файлы ресурсов для публикации
          Typhoon проекта в kubernetes облако через Gitlab CI

## grafana
- import
    - Импортировать заранее сгенерированный шаблон метрик Typhoon проекта в Grafana
      по Grafana API
- remove
    - Remove the Typhoon project listed in Grafana dashboard by Grafana API
- config
    - Add to your config Grafana properties
- init
    - monitoring
        - Создать шаблон для метрик проекта
    - nsq-monitoring
        - Создать шаблон для метрик проекта от очереди NSQ проекта

## helm
- init
    - minikube
- remove
    - minikube

## mongo
- show
    - Отрисовать в консоле таблицу коллекций текущего проекта
- export
    - Экспортировать данные из коллекции в файл
- import
    - импортировать данные в коллекцию проекта

## nsq
- test
    - проверить соединение проекта с NSQ
- pub
    - Отправить задачу в топик из файла
- batch-pub
- sub
    - Подписаться на топик и прочитывать сообщений
- group-sub
    - подписаться на группу топиков и прочитывать сообщения
- group-batch-sub

## cluster
- init
    - monitoring
- create
    - Создать новый кластер c yaml дампом
- add
    - Добавить проект в кластер
- show
    - Показать проекты кластера с возможностью поискать
- sync-gitlab
    - Синхронизировать текущие проекты кластера с проектами в gitlab и проставить им местные ID
- deploy
    - gitlab
        - опубликовать проекты
- grafana
    - import
        - Импортировать шаблон метрик проектов кластера
    - init
        - Создать базовый шаблон мониторинга проекта
    - remove
        - Удалить дашборды проектов кластера
- docker
    - generate
        - Создать Dockerfile для каждого проекта в кластере
- git
    - status
        - посмотреть git статус всего кластера
    - remove-untracked
        - удалить незарегистрированные файлы
    - remove-ignores
        - Удалить все файлы попадающие под .gitignore
    - change-branch
        - Сменить ветку у всего кластера
    - show-ignores
    - reset
        - Синхронизировать локальные  файлы с удалённой ветки
    - push
        - отправить код всего кластера в git
    - new-branch
        - создать локальную ветку и добавить файлы
    - commit
        - Добавить новые файлы и сделать коммит для кластера

## run
- Запустить один компонент

## import
- cache
    - Загрузить некоторый кеш и сохранить в редис проекта

## ssh
- test-connection
    - Проверить соединение ssh

## tests
- services
    - проверить соединение всех сервисов из config.yaml

## ci-templates
- init
    - Создать CI template для K8s

## create
- создать новый typhoon проект

## check
- Посмотреть статус структуры проекта

## down
- принудительно завершить фоновые процессы проекта

## up
- Запустить проект из конфига со всеми компонентами одновременно и заблокировать консоль

## migrate
- Производить миграции из старых в более новые версии

## bashrc
- посмотреть все  typhoon переменные окружения

## init
- Создать симлинк на директорию с исходниками typhoon  в текущей директории проекта